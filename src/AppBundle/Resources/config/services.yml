services:
  app.post_repository:
    class: Doctrine\ORM\EntityRepository
    factory_service: doctrine.orm.default_entity_manager
    factory_method: getRepository
    arguments:
      - AppBundle\Entity\Post
  app.posts_controller:
    class: AppBundle\Controller\PostsController
    arguments:
      - @app.post_repository
      - @app.tag_repository
      - @form.factory
      - @router
      - @session
      - @templating
      - @translator
  app.post_form:
    class: AppBundle\Form\PostType
    tags:
      - { name: form.type, alias: post }
    arguments:
      - @translator
  app.tags_controller:
    class: AppBundle\Controller\TagsController
    arguments:
      - @app.tag_repository
      - @form.factory
      - @router
      - @session
      - @templating
      - @translator
  app.tag_repository:
    class: Doctrine\ORM\EntityRepository
    factory_service: doctrine.orm.default_entity_manager
    factory_method: getRepository
    arguments:
      - AppBundle\Entity\Tag
  app.tag_form:
    class: AppBundle\Form\TagType
    tags:
      - { name: form.type, alias: tag }